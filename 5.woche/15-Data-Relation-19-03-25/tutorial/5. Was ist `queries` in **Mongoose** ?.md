## **4. Was ist `queries` in Mongoose?**  
(**Mongoose'da `queries` nedir?**)

### **ğŸ“Œ TanÄ±m:**
Mongoose'da `queries` (sorgular), **MongoDB'den veri almak, gÃ¼ncellemek, silmek veya eklemek** iÃ§in kullanÄ±lan yÃ¶ntemlerdir. **Mongoose, MongoDB iÃ§in bir ORM (Object-Relational Mapping) aracÄ± olduÄŸu iÃ§in** sorgular SQL sorgularÄ±na benzer bir yapÄ±dadÄ±r, ancak **JavaScript tabanlÄ±dÄ±r ve NoSQL modeline uygundur.**

---
## **ğŸ“Œ Mongoose'da Query TÃ¼rleri**
Mongoose'da dÃ¶rt ana query tÃ¼rÃ¼ bulunur:

1ï¸âƒ£ **Read (Okuma) SorgularÄ± â†’ `find()`, `findOne()`, `findById()`**  
2ï¸âƒ£ **Create (Ekleme) SorgularÄ± â†’ `save()`, `create()`**  
3ï¸âƒ£ **Update (GÃ¼ncelleme) SorgularÄ± â†’ `findByIdAndUpdate()`, `updateOne()`**  
4ï¸âƒ£ **Delete (Silme) SorgularÄ± â†’ `findByIdAndDelete()`, `deleteOne()`**  

---

## **ğŸ“Œ 1ï¸âƒ£ Read (Okuma) Queries**  
MongoDB koleksiyonlarÄ±ndan veri almak iÃ§in kullanÄ±lÄ±r.

### **ğŸ”¹ `find()` - TÃ¼m Verileri Getirir**
```javascript
const users = await User.find(); // TÃ¼m kullanÄ±cÄ±larÄ± getirir
```

### **ğŸ”¹ `findOne()` - Tek Bir Veriyi Getirir**
```javascript
const user = await User.findOne({ email: "test@gmail.com" });
```

### **ğŸ”¹ `findById()` - ID'ye GÃ¶re Tek Bir Veriyi Getirir**
```javascript
const user = await User.findById("605c72b1234567890abcdef");
```

### **ğŸ”¹ `select()` - Belirli AlanlarÄ± Getirme**
```javascript
const user = await User.find().select("name email"); // Sadece isim ve email getirir
```

### **ğŸ”¹ `sort()` - Verileri SÄ±ralama**
```javascript
const users = await User.find().sort({ age: -1 }); // YaÅŸa gÃ¶re azalan sÄ±ralama
```

### **ğŸ”¹ `limit()` ve `skip()` - Sayfalama Yapma**
```javascript
const users = await User.find().limit(10).skip(5); // 5. kayÄ±ttan baÅŸla, 10 kayÄ±t getir
```

---

## **ğŸ“Œ 2ï¸âƒ£ Create (Ekleme) Queries**  
MongoDB'ye yeni veri eklemek iÃ§in kullanÄ±lÄ±r.

### **ğŸ”¹ `save()` - Yeni Bir Belgeyi Kaydetme**
```javascript
const newUser = new User({ name: "Ahmet", email: "ahmet@gmail.com" });
await newUser.save();
```

### **ğŸ”¹ `create()` - KÄ±sa Yol ile Yeni Veri Ekleme**
```javascript
const user = await User.create({ name: "Ali", email: "ali@gmail.com" });
```

---

## **ğŸ“Œ 3ï¸âƒ£ Update (GÃ¼ncelleme) Queries**  
Mevcut verileri deÄŸiÅŸtirmek iÃ§in kullanÄ±lÄ±r.

### **ğŸ”¹ `findByIdAndUpdate()` - ID ile GÃ¼ncelleme**
```javascript
const updatedUser = await User.findByIdAndUpdate(
  "605c72b1234567890abcdef",
  { age: 30 },
  { new: true, runValidators: true } // GÃ¼ncellenmiÅŸ veriyi dÃ¶ndÃ¼r ve validasyonlarÄ± Ã§alÄ±ÅŸtÄ±r
);
```

### **ğŸ”¹ `updateOne()` - Ä°lk EÅŸleÅŸen KaydÄ± GÃ¼ncelleme**
```javascript
await User.updateOne({ email: "test@gmail.com" }, { $set: { age: 28 } });
```

### **ğŸ”¹ `updateMany()` - Birden Fazla KaydÄ± GÃ¼ncelleme**
```javascript
await User.updateMany({ age: { $lt: 18 } }, { $set: { isMinor: true } });
```

---

## **ğŸ“Œ 4ï¸âƒ£ Delete (Silme) Queries**  
Mevcut verileri silmek iÃ§in kullanÄ±lÄ±r.

### **ğŸ”¹ `findByIdAndDelete()` - ID ile Silme**
```javascript
await User.findByIdAndDelete("605c72b1234567890abcdef");
```

### **ğŸ”¹ `deleteOne()` - Ä°lk EÅŸleÅŸeni Silme**
```javascript
await User.deleteOne({ email: "test@gmail.com" });
```

### **ğŸ”¹ `deleteMany()` - Birden Fazla KaydÄ± Silme**
```javascript
await User.deleteMany({ age: { $lt: 18 } });
```

---

## **ğŸ“Œ 5ï¸âƒ£ `populate()` - Ä°liÅŸkili Verileri Getirme**
**EÄŸer `ObjectId` referansÄ± ile baÅŸka bir koleksiyonla iliÅŸki varsa, `populate()` kullanÄ±lÄ±r.**

ğŸ“Œ **Ã–rnek:** KullanÄ±cÄ±nÄ±n sipariÅŸlerini getirme  
```javascript
const users = await User.find().populate("orders");
```

ğŸ“Œ **Ã–rnek:** Sadece belirli alanlarÄ± getirme  
```javascript
const users = await User.find().populate("orders", "total date");
```

---

## **ğŸ“Œ Mongoose Queries ile Ä°lgili Ã–zet Tablo**

| **Ä°ÅŸlem**     | **Query Metodu**               | **AÃ§Ä±klama** |
|--------------|--------------------------------|-------------|
| **Okuma**    | `find()`                       | TÃ¼m verileri getirir |
| **Okuma**    | `findOne()`                    | Tek bir veriyi getirir |
| **Okuma**    | `findById(id)`                 | ID'ye gÃ¶re veri getirir |
| **Okuma**    | `select("name email")`         | Sadece belirli alanlarÄ± getirir |
| **Okuma**    | `sort({ age: 1 })`             | KÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe sÄ±ralar |
| **Ekleme**   | `save()`                        | Yeni bir belge ekler |
| **Ekleme**   | `create({ name, email })`     | Yeni bir belge ekler |
| **GÃ¼ncelleme**| `findByIdAndUpdate(id, data)`  | ID'ye gÃ¶re gÃ¼nceller |
| **GÃ¼ncelleme**| `updateOne(filter, update)`   | Ä°lk eÅŸleÅŸeni gÃ¼nceller |
| **GÃ¼ncelleme**| `updateMany(filter, update)`  | TÃ¼m eÅŸleÅŸenleri gÃ¼nceller |
| **Silme**    | `findByIdAndDelete(id)`       | ID'ye gÃ¶re siler |
| **Silme**    | `deleteOne(filter)`            | Ä°lk eÅŸleÅŸeni siler |
| **Silme**    | `deleteMany(filter)`           | TÃ¼m eÅŸleÅŸenleri siler |
| **Ä°liÅŸki**   | `populate("orders")`          | ReferanslarÄ± getirir |

---

## **ğŸ“Œ SonuÃ§**
- **Mongoose queries**, MongoDB ile veri almak, gÃ¼ncellemek, silmek ve eklemek iÃ§in kullanÄ±lan yÃ¶ntemlerdir.  
- **Okuma (find, findById), Ekleme (save, create), GÃ¼ncelleme (findByIdAndUpdate, updateOne), Silme (findByIdAndDelete, deleteOne) gibi sorgular kullanÄ±lÄ±r.**  
- **Ä°liÅŸkili verileri Ã§ekmek iÃ§in `populate()` kullanÄ±lÄ±r.**  
- **Mongoose queries, SQL'e benzer bir yapÄ± sunar ama NoSQL'in esnekliÄŸi korunur.** ğŸš€  

---

ğŸš€ **Åimdi sÄ±radaki adÄ±m:** `populate()` kullanarak verileri detaylÄ± getirme! ğŸš€