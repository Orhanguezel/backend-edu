### **Mongoose Nedir?**  

Mongoose, **Node.js uygulamalarÄ±nda MongoDB ile Ã§alÄ±ÅŸmayÄ± kolaylaÅŸtÄ±ran bir Object Data Modeling (ODM) kÃ¼tÃ¼phanesidir**. **MongoDB, NoSQL bir veritabanÄ± olduÄŸu iÃ§in ÅŸemasÄ±z (schemaless) bir yapÄ±ya sahiptir**. Ancak Mongoose, **ÅŸema (schema) desteÄŸi ekleyerek verilerin daha dÃ¼zenli ve doÄŸrulanabilir bir ÅŸekilde saklanmasÄ±nÄ± saÄŸlar**.

---

## **1. Mongooseâ€™un SaÄŸladÄ±ÄŸÄ± Avantajlar**
âœ… **Åema (Schema) KullanÄ±mÄ±:**  
- MongoDB'nin aksine, verilerin belirli bir yapÄ±ya (schema) sahip olmasÄ±nÄ± saÄŸlar.  
- Bu sayede **veri bÃ¼tÃ¼nlÃ¼ÄŸÃ¼ (data integrity) korunur**.

âœ… **Kolay CRUD Ä°ÅŸlemleri:**  
- **Mongoose, MongoDB ile veri ekleme, okuma, gÃ¼ncelleme ve silme (CRUD) iÅŸlemlerini kolaylaÅŸtÄ±rÄ±r**.

âœ… **Veri DoÄŸrulama (Validation):**  
- **Zorunlu alanlar (required), minimum ve maksimum deÄŸerler (min, max), eÅŸleÅŸme kurallarÄ± (match) gibi doÄŸrulama iÅŸlemleri yapÄ±labilir**.

âœ… **Middleware (Orta Katman Ä°ÅŸlemleri):**  
- Veriler **kaydedilmeden Ã¶nce veya sonra iÅŸlem yapmak** iÃ§in **pre ve post middleware** desteÄŸi saÄŸlar.

âœ… **Ä°liÅŸkisel Veri KullanÄ±mÄ± (`populate`):**  
- **MongoDB iliÅŸkisel bir veritabanÄ± deÄŸildir** ancak Mongoose ile **iliÅŸkisel veriler (`populate()`) desteklenebilir**.

âœ… **Kolay BaÄŸlantÄ± YÃ¶netimi:**  
- **MongoDB baÄŸlantÄ±larÄ±nÄ± yÃ¶netmek, hata kontrolleri yapmak ve otomatik yeniden baÄŸlanmak iÃ§in destek sunar**.

---

## **2. Mongoose NasÄ±l Kurulur?**
Mongoose'u Node.js projenize eklemek iÃ§in aÅŸaÄŸÄ±daki komutu Ã§alÄ±ÅŸtÄ±rÄ±n:

```bash
npm install mongoose
```

---

## **3. MongoDB'ye BaÄŸlanma**
Mongoose kullanarak **MongoDB veritabanÄ±na baÄŸlanmak** iÃ§in:

```javascript
import mongoose from "mongoose";

// MongoDB baÄŸlantÄ±sÄ±
mongoose.connect("mongodb://localhost:27017/myDatabase", {
  useNewUrlParser: true,
  useUnifiedTopology: true
})
  .then(() => console.log("MongoDB'ye baÅŸarÄ±yla baÄŸlanÄ±ldÄ± ğŸš€"))
  .catch(err => console.log("BaÄŸlantÄ± hatasÄ± âŒ", err));
```

ğŸ‘‰ **MongoDB ile baÄŸlantÄ± kurulduÄŸunda, "MongoDB'ye baÅŸarÄ±yla baÄŸlanÄ±ldÄ± ğŸš€" mesajÄ± gÃ¶rÃ¼ntÃ¼lenir.**  
ğŸ‘‰ **Hata oluÅŸursa, hata mesajÄ± konsola yazdÄ±rÄ±lÄ±r.**

---

## **4. Mongoose Model ve Åema (Schema) KullanÄ±mÄ±**
Mongoose'da verileri **ÅŸema (schema) yapÄ±sÄ±yla tanÄ±mlayabiliriz**.

### **ğŸ“Œ Ã–rnek: KullanÄ±cÄ± ÅemasÄ± (`User Schema`)**
```javascript
const userSchema = new mongoose.Schema({
  name: { type: String, required: true },
  age: { type: Number, required: true, min: 18 },
  email: { type: String, required: true, unique: true },
  createdAt: { type: Date, default: Date.now }
});

// Model oluÅŸturma
const User = mongoose.model("User", userSchema);

export default User;
```

ğŸ‘‰ **Bu ÅŸema, kullanÄ±cÄ±larÄ±n belirli bir yapÄ±da saklanmasÄ±nÄ± zorunlu kÄ±lar**.  

| Alan | AÃ§Ä±klama |
|------|---------|
| `name` | **Zorunlu (`required: true`) ve `String` tipinde bir alan** |
| `age` | **Zorunlu, minimum 18 olan `Number` tipinde bir alan** |
| `email` | **Benzersiz (`unique: true`) ve zorunlu bir alan** |
| `createdAt` | **VarsayÄ±lan olarak ÅŸu anki tarih atanÄ±r (`default: Date.now`)** |

---

## **5. CRUD Ä°ÅŸlemleri (Create, Read, Update, Delete)**
Mongoose ile **CRUD iÅŸlemlerini kolayca yapabiliriz**.

### **ğŸ“Œ 1. Yeni KullanÄ±cÄ± Ekleme (`Create`)**
```javascript
const newUser = new User({
  name: "Ali",
  age: 25,
  email: "ali@example.com"
});

newUser
  .save()
  .then(() => console.log("KullanÄ±cÄ± baÅŸarÄ±yla kaydedildi âœ…"))
  .catch(err => console.log("Hata âŒ", err.message));
```
âœ… **Bu kod, MongoDB'ye yeni bir kullanÄ±cÄ± ekler.**  

---

### **ğŸ“Œ 2. KullanÄ±cÄ±larÄ± Listeleme (`Read`)**
```javascript
User.find()
  .then(users => console.log("TÃ¼m KullanÄ±cÄ±lar:", users))
  .catch(err => console.log("Hata âŒ", err));
```
âœ… **Bu kod, tÃ¼m kullanÄ±cÄ±larÄ± getirir.**  

---

### **ğŸ“Œ 3. Belirli Bir KullanÄ±cÄ±yÄ± Bulma**
```javascript
User.findOne({ email: "ali@example.com" })
  .then(user => console.log("KullanÄ±cÄ± bulundu:", user))
  .catch(err => console.log("Hata âŒ", err));
```
âœ… **Belirtilen e-posta adresine sahip kullanÄ±cÄ±yÄ± dÃ¶ndÃ¼rÃ¼r.**

---

### **ğŸ“Œ 4. KullanÄ±cÄ± GÃ¼ncelleme (`Update`)**
```javascript
User.findOneAndUpdate({ email: "ali@example.com" }, { age: 30 }, { new: true })
  .then(updatedUser => console.log("GÃ¼ncellenmiÅŸ KullanÄ±cÄ±:", updatedUser))
  .catch(err => console.log("Hata âŒ", err));
```
âœ… **Bu kod, `ali@example.com` adresine sahip kullanÄ±cÄ±nÄ±n yaÅŸÄ±nÄ± 30 olarak gÃ¼nceller.**

---

### **ğŸ“Œ 5. KullanÄ±cÄ± Silme (`Delete`)**
```javascript
User.findOneAndDelete({ email: "ali@example.com" })
  .then(() => console.log("KullanÄ±cÄ± silindi âœ…"))
  .catch(err => console.log("Hata âŒ", err));
```
âœ… **Belirtilen kullanÄ±cÄ±yÄ± MongoDB'den kaldÄ±rÄ±r.**

---

## **6. Ä°liÅŸkisel Veri KullanÄ±mÄ± (`populate`)**
MongoDB'de **iliÅŸkisel veriler** iÃ§in **`populate()`** metodu kullanÄ±lÄ±r.

### **ğŸ“Œ Ã–rnek: KullanÄ±cÄ± ve GÃ¶nderiler ArasÄ±ndaki Ä°liÅŸki**
Bir kullanÄ±cÄ±nÄ±n birden fazla blog gÃ¶nderisi olabilir. **Her `Post`, `User` koleksiyonuna referans verir.**

#### **ğŸ“Œ Post ÅemasÄ±**
```javascript
const postSchema = new mongoose.Schema({
  title: String,
  content: String,
  user: { type: mongoose.Schema.Types.ObjectId, ref: "User" }
});

const Post = mongoose.model("Post", postSchema);
export default Post;
```

---

### **ğŸ“Œ `populate()` ile KullanÄ±cÄ± Bilgilerini Getirme**
```javascript
Post.find().populate("user")
  .then(posts => console.log(posts))
  .catch(err => console.log("Hata:", err));
```
âœ… **Bu kod, blog gÃ¶nderileriyle iliÅŸkili kullanÄ±cÄ± bilgilerini de getirir.**  

---

## **7. Middleware KullanÄ±mÄ±**
Mongoose, **`pre()` ve `post()` middleware desteÄŸi sunar.**

### **ğŸ“Œ KullanÄ±cÄ± Kaydedilmeden Ã–nce Åifre Hashleme**
```javascript
import bcrypt from "bcrypt";

userSchema.pre("save", async function(next) {
  if (!this.isModified("password")) return next();
  this.password = await bcrypt.hash(this.password, 10);
  next();
});
```
âœ… **Bu middleware, kullanÄ±cÄ±nÄ±n ÅŸifresini kaydetmeden Ã¶nce hash'ler.**

---

## **SonuÃ§**
ğŸ¯ **Mongoose, MongoDB ile Ã§alÄ±ÅŸmayÄ± kolaylaÅŸtÄ±ran ve ÅŸema bazlÄ± veri yÃ¶netimi sunan bir ODM kÃ¼tÃ¼phanesidir.**  
ğŸ¯ **CRUD iÅŸlemleri, veri doÄŸrulama, middleware ve iliÅŸkisel veriler iÃ§in mÃ¼kemmel bir Ã§Ã¶zÃ¼mdÃ¼r.**  
ğŸ¯ **MongoDB ile veri bÃ¼tÃ¼nlÃ¼ÄŸÃ¼nÃ¼ saÄŸlamak iÃ§in en yaygÄ±n kullanÄ±lan kÃ¼tÃ¼phanelerden biridir.** ğŸš€