# **ğŸ“Œ 4. CRUD Endpoints Nedir?**  

## **ğŸš€ CRUD Nedir?**
CRUD, **Create, Read, Update, Delete** iÅŸlemlerinin kÄ±saltmasÄ±dÄ±r ve **veritabanÄ±nda temel veri yÃ¶netimi iÅŸlemlerini** ifade eder.  
**CRUD Endpoints**, bu iÅŸlemleri gerÃ§ekleÅŸtiren **API uÃ§ noktalarÄ±dÄ±r (endpoints).**  

ğŸ“Œ **Ã–zetle:**  
âœ… **Create (POST)** â†’ Yeni veri ekleme  
âœ… **Read (GET)** â†’ Veri okuma  
âœ… **Update (PUT/PATCH)** â†’ Mevcut veriyi gÃ¼ncelleme  
âœ… **Delete (DELETE)** â†’ Veri silme  

REST APIâ€™lerde **her CRUD iÅŸlemi bir HTTP metodu ile temsil edilir**.

---

## **ğŸ“Œ CRUD Endpoints ve HTTP MetotlarÄ±**
| **CRUD Ä°ÅŸlemi** | **HTTP Metodu** | **Endpoint (URL)** | **AÃ§Ä±klama** |
|---------------|--------------|------------------|-------------|
| **Create (Ekle)** | `POST` | `/users` | Yeni kullanÄ±cÄ± ekler |
| **Read (Oku - Listele)** | `GET` | `/users` | TÃ¼m kullanÄ±cÄ±larÄ± getirir |
| **Read (Tek KayÄ±t)** | `GET` | `/users/:id` | Belirli bir kullanÄ±cÄ±yÄ± getirir |
| **Update (GÃ¼ncelle)** | `PUT` veya `PATCH` | `/users/:id` | KullanÄ±cÄ±yÄ± gÃ¼nceller |
| **Delete (Sil)** | `DELETE` | `/users/:id` | KullanÄ±cÄ±yÄ± siler |

---

## **ğŸ“Œ Express.js ile CRUD Endpoints Ã–rneÄŸi**
AÅŸaÄŸÄ±daki kod, **users** koleksiyonu Ã¼zerinde **CRUD iÅŸlemlerini gerÃ§ekleÅŸtiren** REST API uÃ§ noktalarÄ±nÄ± (endpoints) iÃ§erir.  

```javascript
import express from "express";

const app = express();
app.use(express.json());

const users = [
    { id: 1, name: "Ali", email: "ali@example.com" },
    { id: 2, name: "AyÅŸe", email: "ayse@example.com" }
];

// 1ï¸âƒ£ Create (Yeni KullanÄ±cÄ± Ekle)
app.post("/users", (req, res) => {
    const newUser = { id: users.length + 1, ...req.body };
    users.push(newUser);
    res.status(201).json(newUser);
});

// 2ï¸âƒ£ Read (TÃ¼m KullanÄ±cÄ±larÄ± Listele)
app.get("/users", (req, res) => {
    res.json(users);
});

// 3ï¸âƒ£ Read (Belirli Bir KullanÄ±cÄ±yÄ± Getir)
app.get("/users/:id", (req, res) => {
    const user = users.find(u => u.id === parseInt(req.params.id));
    if (!user) return res.status(404).send("User not found!");
    res.json(user);
});

// 4ï¸âƒ£ Update (KullanÄ±cÄ± GÃ¼ncelle)
app.put("/users/:id", (req, res) => {
    const user = users.find(u => u.id === parseInt(req.params.id));
    if (!user) return res.status(404).send("User not found!");
    Object.assign(user, req.body);
    res.json(user);
});

// 5ï¸âƒ£ Delete (KullanÄ±cÄ± Sil)
app.delete("/users/:id", (req, res) => {
    const index = users.findIndex(u => u.id === parseInt(req.params.id));
    if (index === -1) return res.status(404).send("User not found!");
    users.splice(index, 1);
    res.send("User deleted!");
});

const port = 3001;
app.listen(port, () => console.log(`Server running on port ${port}`));
```

âœ… **APIâ€™yi Ã§alÄ±ÅŸtÄ±r:**  
```bash
node server.js
```

---

## **ğŸ“Œ CRUD Endpoints Test Etme**
### **1ï¸âƒ£ Yeni KullanÄ±cÄ± Ekleme (POST)**
```bash
curl -X POST http://localhost:3001/users \
     -H "Content-Type: application/json" \
     -d '{"name": "Mehmet", "email": "mehmet@example.com"}'
```
âœ… **YanÄ±t:**
```json
{
  "id": 3,
  "name": "Mehmet",
  "email": "mehmet@example.com"
}
```

---

### **2ï¸âƒ£ TÃ¼m KullanÄ±cÄ±larÄ± Listeleme (GET)**
```bash
curl -X GET http://localhost:3001/users
```
âœ… **YanÄ±t:**
```json
[
  { "id": 1, "name": "Ali", "email": "ali@example.com" },
  { "id": 2, "name": "AyÅŸe", "email": "ayse@example.com" },
  { "id": 3, "name": "Mehmet", "email": "mehmet@example.com" }
]
```

---

### **3ï¸âƒ£ Belirli Bir KullanÄ±cÄ±yÄ± Getirme (GET)**
```bash
curl -X GET http://localhost:3001/users/1
```
âœ… **YanÄ±t:**
```json
{
  "id": 1,
  "name": "Ali",
  "email": "ali@example.com"
}
```

---

### **4ï¸âƒ£ KullanÄ±cÄ± GÃ¼ncelleme (PUT)**
```bash
curl -X PUT http://localhost:3001/users/1 \
     -H "Content-Type: application/json" \
     -d '{"name": "Ali Can", "email": "ali_can@example.com"}'
```
âœ… **YanÄ±t:**
```json
{
  "id": 1,
  "name": "Ali Can",
  "email": "ali_can@example.com"
}
```

---

### **5ï¸âƒ£ KullanÄ±cÄ± Silme (DELETE)**
```bash
curl -X DELETE http://localhost:3001/users/2
```
âœ… **YanÄ±t:**
```
User deleted!
```

---

## **ğŸ“Œ CRUD Endpoints Ã–zet**
| **CRUD Ä°ÅŸlemi** | **HTTP Metodu** | **Endpoint (URL)** | **Ne Yapar?** |
|---------------|--------------|------------------|-------------|
| **Create (Ekle)** | `POST` | `/users` | Yeni kullanÄ±cÄ± ekler |
| **Read (Oku - Listele)** | `GET` | `/users` | TÃ¼m kullanÄ±cÄ±larÄ± getirir |
| **Read (Tek KayÄ±t)** | `GET` | `/users/:id` | Belirli bir kullanÄ±cÄ±yÄ± getirir |
| **Update (GÃ¼ncelle)** | `PUT` veya `PATCH` | `/users/:id` | KullanÄ±cÄ±yÄ± gÃ¼nceller |
| **Delete (Sil)** | `DELETE` | `/users/:id` | KullanÄ±cÄ±yÄ± siler |

ğŸš€ **Sonraki Konu:** **Serverâ€™Ä±n JSON ile nasÄ±l yanÄ±t verdiÄŸini ve JSON verisini nasÄ±l anladÄ±ÄŸÄ±nÄ± inceleyeceÄŸiz!** ğŸ¯  
Bunun hakkÄ±nda konuÅŸalÄ±m mÄ±? ğŸ˜Š