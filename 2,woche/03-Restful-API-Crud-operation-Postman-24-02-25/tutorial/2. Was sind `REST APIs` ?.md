# **ğŸ“Œ 2. REST API Nedir?**  

## **ğŸš€ REST API (Representational State Transfer)**
**REST API**, web servislerinin **HTTP protokolÃ¼** Ã¼zerinden Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlayan bir **mimari tarzÄ±dÄ±r**.  
Bu mimari, **istemci (Client) ile sunucu (Server) arasÄ±nda veri alÄ±ÅŸveriÅŸi** yapÄ±lmasÄ±nÄ± saÄŸlar.  

ğŸ“Œ **REST API, sistemlerin baÄŸÄ±msÄ±z ve Ã¶lÃ§eklenebilir bir ÅŸekilde Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlayan en yaygÄ±n API tÃ¼rlerinden biridir.**  

---

## **ğŸ“Œ REST API NasÄ±l Ã‡alÄ±ÅŸÄ±r?**
**REST API'nin Ã§alÄ±ÅŸma mantÄ±ÄŸÄ±:**  
âœ… **Ä°stemci (Client)** â†’ API'ye bir HTTP isteÄŸi gÃ¶nderir.  
âœ… **Sunucu (Server)** â†’ Ä°stemcinin isteÄŸini iÅŸler ve yanÄ±t dÃ¶ner.  
âœ… **YanÄ±t Genellikle JSON FormatÄ±nda DÃ¶ner**.  

ğŸ“Œ **Ã–rnek:**  
GitHub APIâ€™den kullanÄ±cÄ± bilgilerini almak iÃ§in ÅŸu isteÄŸi yapabiliriz:
```bash
curl -X GET https://api.github.com/users/orhanguezel
```
Bu istek, **GitHub REST APIâ€™sine bir GET isteÄŸi** yapar ve **JSON formatÄ±nda** veri dÃ¶ndÃ¼rÃ¼r:
```json
{
  "login": "orhanguezel",
  "id": 123456,
  "name": "Orhan GÃ¼zel",
  "public_repos": 10
}
```
---

## **ğŸ“Œ REST API'nin Temel Ä°lkeleri**
**REST API'nin bazÄ± temel kurallarÄ± vardÄ±r:**  

### **1ï¸âƒ£ Kaynak OdaklÄ±dÄ±r (Resource-Based)**
REST API, **"kaynaklara" (resources) odaklanÄ±r.**  
**Kaynak** â†’ KullanÄ±cÄ±lar, Ã¼rÃ¼nler, sipariÅŸler, blog yazÄ±larÄ± vb.  

ğŸ“Œ **Ã–rnek:**  
- KullanÄ±cÄ±larÄ± almak iÃ§in â†’ `GET /users`  
- Belirli bir kullanÄ±cÄ±yÄ± almak iÃ§in â†’ `GET /users/1`  
- Yeni kullanÄ±cÄ± eklemek iÃ§in â†’ `POST /users`  

---

### **2ï¸âƒ£ HTTP MetotlarÄ±nÄ± KullanÄ±r**
| **HTTP Metodu** | **CRUD Ä°ÅŸlemi** | **AÃ§Ä±klama** |
|--------------|--------------|------------------------------|
| **GET** | **Read (Oku)** | Veriyi almak iÃ§in kullanÄ±lÄ±r. |
| **POST** | **Create (Ekle)** | Yeni bir veri eklemek iÃ§in kullanÄ±lÄ±r. |
| **PUT / PATCH** | **Update (GÃ¼ncelle)** | Mevcut veriyi gÃ¼ncellemek iÃ§in kullanÄ±lÄ±r. |
| **DELETE** | **Delete (Sil)** | Bir veriyi kaldÄ±rmak iÃ§in kullanÄ±lÄ±r. |

ğŸ“Œ **Ã–rnek:**  
âœ… **GET `/users`** â†’ TÃ¼m kullanÄ±cÄ±larÄ± getirir.  
âœ… **POST `/users`** â†’ Yeni bir kullanÄ±cÄ± ekler.  
âœ… **PUT `/users/1`** â†’ IDâ€™si `1` olan kullanÄ±cÄ±yÄ± gÃ¼nceller.  
âœ… **DELETE `/users/1`** â†’ IDâ€™si `1` olan kullanÄ±cÄ±yÄ± siler.  

---

### **3ï¸âƒ£ JSON FormatÄ±nda YanÄ±t DÃ¶ner**
REST APIâ€™ler **genellikle JSON formatÄ±nda veri dÃ¶ndÃ¼rÃ¼r.**  

ğŸ“Œ **Ã–rnek JSON YanÄ±tÄ±:**
```json
{
  "id": 1,
  "name": "Ali",
  "email": "ali@example.com"
}
```

**Alternatif olarak XML de kullanÄ±labilir, ancak JSON daha yaygÄ±n ve hÄ±zlÄ±dÄ±r.**  

---

### **4ï¸âƒ£ Stateless (Durumsuz) Ã‡alÄ±ÅŸÄ±r**
REST API **durumsuzdur (stateless)**, yani her istek **baÄŸÄ±msÄ±zdÄ±r** ve Ã¶nceki isteklerden etkilenmez.  
ğŸ“Œ **Ã–rneÄŸin:**  
âœ… `GET /users/1` Ã§aÄŸrÄ±sÄ±, kullanÄ±cÄ± 1 hakkÄ±nda bilgi getirir.  
âœ… Sunucu, istemcinin Ã¶nceki iÅŸlemlerini hatÄ±rlamak zorunda deÄŸildir.  

Bu sayede API **Ã¶lÃ§eklenebilir ve hÄ±zlÄ± olur.**  

---

### **5ï¸âƒ£ URL YapÄ±sÄ± TutarlÄ± ve AnlamlÄ± OlmalÄ±dÄ±r**
REST API URL'leri **anlamlÄ± ve kaynak odaklÄ± olmalÄ±dÄ±r**.  
**YanlÄ±ÅŸ:**  
âŒ `/getUser?id=1`  
âŒ `/deleteUser?id=5`  

**DoÄŸru:**  
âœ… `/users/1` (**GET** ile ID 1 olan kullanÄ±cÄ±yÄ± getirir.)  
âœ… `/users/5` (**DELETE** ile ID 5 olan kullanÄ±cÄ±yÄ± siler.)  

---

## **ğŸ“Œ REST API ile Bir Express.js Ã–rneÄŸi**
**Express.js kullanarak basit bir REST API oluÅŸturalÄ±m.**  
Bu API, kullanÄ±cÄ±larla ilgili CRUD iÅŸlemlerini gerÃ§ekleÅŸtirecek.

### **ğŸ“Œ 1ï¸âƒ£ Express.js REST API Kod Ã–rneÄŸi**
```javascript
import express from "express";

const app = express();
app.use(express.json());

const users = [
    { id: 1, name: "Ali", email: "ali@example.com" },
    { id: 2, name: "AyÅŸe", email: "ayse@example.com" }
];

// 1ï¸âƒ£ GET: TÃ¼m KullanÄ±cÄ±larÄ± Listele
app.get("/users", (req, res) => {
    res.json(users);
});

// 2ï¸âƒ£ GET: Belirli Bir KullanÄ±cÄ±yÄ± Getir
app.get("/users/:id", (req, res) => {
    const user = users.find(u => u.id === parseInt(req.params.id));
    if (!user) return res.status(404).send("User not found!");
    res.json(user);
});

// 3ï¸âƒ£ POST: Yeni KullanÄ±cÄ± Ekle
app.post("/users", (req, res) => {
    const newUser = { id: users.length + 1, ...req.body };
    users.push(newUser);
    res.status(201).json(newUser);
});

// 4ï¸âƒ£ PUT: KullanÄ±cÄ± GÃ¼ncelle
app.put("/users/:id", (req, res) => {
    const user = users.find(u => u.id === parseInt(req.params.id));
    if (!user) return res.status(404).send("User not found!");
    Object.assign(user, req.body);
    res.json(user);
});

// 5ï¸âƒ£ DELETE: KullanÄ±cÄ± Sil
app.delete("/users/:id", (req, res) => {
    const index = users.findIndex(u => u.id === parseInt(req.params.id));
    if (index === -1) return res.status(404).send("User not found!");
    users.splice(index, 1);
    res.send("User deleted!");
});

const port = 3001;
app.listen(port, () => console.log(`Server running on port ${port}`));
```

âœ… **Sunucu BaÅŸlat:**  
```bash
node server.js
```
âœ… **Test Etmek Ä°Ã§in GET Request:**  
```bash
curl -X GET http://localhost:3001/users
```

---

## **ğŸ“Œ REST API'nin AvantajlarÄ±**
âœ… **Esnek ve Ã¶lÃ§eklenebilir**  
âœ… **Daha az veri tÃ¼ketir (stateless olmasÄ± nedeniyle)**  
âœ… **JSON formatÄ± sayesinde hafif ve hÄ±zlÄ±dÄ±r**  
âœ… **FarklÄ± istemcilerle (Web, Mobil, IoT) uyumlu Ã§alÄ±ÅŸÄ±r**  

---

## **ğŸ“Œ Ã–zet**
| **Konu** | **AÃ§Ä±klama** |
|----------|-------------|
| **REST API** | HTTP protokolÃ¼yle Ã§alÄ±ÅŸan, kaynak odaklÄ± API'lerdir. |
| **Kaynak (Resource)** | KullanÄ±cÄ±lar, Ã¼rÃ¼nler, sipariÅŸler gibi API'de temsil edilen verilerdir. |
| **HTTP MetotlarÄ±** | `GET`, `POST`, `PUT`, `DELETE` kullanÄ±larak CRUD iÅŸlemleri yapÄ±lÄ±r. |
| **Stateless (Durumsuz)** | Her istek baÄŸÄ±msÄ±zdÄ±r, Ã¶nceki istekleri hatÄ±rlamaz. |
| **JSON FormatÄ±** | Veriler genellikle JSON formatÄ±nda dÃ¶ndÃ¼rÃ¼lÃ¼r. |

ğŸš€ **Sonraki Konu:** **Params nedir? API iÃ§inde nasÄ±l kullanÄ±lÄ±r?** ğŸ¯  
Bunun hakkÄ±nda konuÅŸalÄ±m mÄ±? ğŸ˜Š