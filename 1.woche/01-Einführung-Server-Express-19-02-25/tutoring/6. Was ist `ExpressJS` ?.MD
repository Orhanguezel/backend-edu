# **6. Express.js Nedir?**  

**Express.js**, **Node.js tabanlÄ± bir web frameworkâ€™Ã¼dÃ¼r** ve **API geliÅŸtirmeyi ve web sunucularÄ± oluÅŸturmayÄ±** kolaylaÅŸtÄ±ran hafif, hÄ±zlÄ± ve esnek bir yapÄ±dÄ±r.

Bu derste **Express.jsâ€™in ne olduÄŸunu, neden kullanÄ±ldÄ±ÄŸÄ±nÄ± ve nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±** Ã¶ÄŸreneceÄŸiz. AyrÄ±ca, **temel bir Express.js sunucusu oluÅŸturacaÄŸÄ±z**. ğŸš€

---

## **1. Express.js Neden KullanÄ±lÄ±r?**  
**Node.js**, varsayÄ±lan olarak HTTP isteklerini iÅŸleyebilir. Ancak, her isteÄŸi yÃ¶netmek iÃ§in manuel olarak yÃ¶nlendirme yapmak, veri iÅŸlemek ve yanÄ±t gÃ¶ndermek zor olur. Ä°ÅŸte bu noktada **Express.js** devreye girer.

âœ… **Kolay KullanÄ±m:** Sunucu oluÅŸturmak iÃ§in az kod gerektirir.  
âœ… **HÄ±zlÄ±dÄ±r:** Hafif yapÄ±sÄ± sayesinde yÃ¼ksek performanslÄ±dÄ±r.  
âœ… **Esnektir:** Middleware (ara katman yazÄ±lÄ±mÄ±) desteÄŸi ile Ã¶zelleÅŸtirilebilir.  
âœ… **GÃ¼Ã§lÃ¼ YÃ¶nlendirme (Routing) Sistemi:** FarklÄ± sayfalar ve API uÃ§ noktalarÄ± (endpoints) kolayca oluÅŸturulabilir.  
âœ… **RESTful APIâ€™ler Ä°Ã§in Ä°deal:** JSON tabanlÄ± servisler geliÅŸtirmek iÃ§in uygundur.  

Ã–zetle, **Express.js, Node.jsâ€™in sunduÄŸu Ã¶zellikleri daha kullanÄ±ÅŸlÄ± hale getirerek, web geliÅŸtirme sÃ¼recini hÄ±zlandÄ±rÄ±r.**  

---

## **2. Express.js Kurulumu**
Express.jsâ€™i kullanabilmek iÃ§in Ã¶ncelikle **Node.js ve npm (Node Package Manager)** sistemimizde yÃ¼klÃ¼ olmalÄ±dÄ±r.

ğŸ“Œ **Node.jsâ€™in Kurulu Olup OlmadÄ±ÄŸÄ±nÄ± Kontrol Etmek Ä°Ã§in:**  
```bash
node -v
npm -v
```
EÄŸer kurulu deÄŸilse, [Node.js resmi sitesinden](https://nodejs.org/) indirip yÃ¼kleyebilirsin.

ğŸ“Œ **Expressâ€™i Projemize Ekleyelim:**  
Ã–nce bir proje klasÃ¶rÃ¼ oluÅŸturalÄ±m ve iÃ§ine geÃ§elim:
```bash
mkdir express-server
cd express-server
```
SonrasÄ±nda **npm ile Express.js kÃ¼tÃ¼phanesini yÃ¼kleyelim**:
```bash
npm init -y  # package.json oluÅŸturur
npm install express  # Express.js'i yÃ¼kler
```

ArtÄ±k **Express.jsâ€™i kullanarak ilk sunucumuzu yazabiliriz!** ğŸš€  

---

## **3. Ä°lk Express.js Sunucumuzu OluÅŸturalÄ±m**
Åimdi `server.js` adÄ±nda bir dosya oluÅŸturalÄ±m ve aÅŸaÄŸÄ±daki kodlarÄ± ekleyelim:

```javascript
const express = require('express'); // Express'i dahil et
const app = express(); // Express uygulamasÄ±nÄ± oluÅŸtur

// Ana sayfa iÃ§in GET isteÄŸi
app.get('/', (req, res) => {
    res.send('Merhaba! Express.js sunucusu Ã§alÄ±ÅŸÄ±yor.');
});

// Sunucuyu belirli bir portta dinle
const PORT = 3000;
app.listen(PORT, () => {
    console.log(`Sunucu http://localhost:${PORT} adresinde Ã§alÄ±ÅŸÄ±yor.`);
});
```

ğŸ“Œ **Sunucuyu Ã‡alÄ±ÅŸtÄ±rma:**  
```bash
node server.js
```
Daha sonra tarayÄ±cÄ±da **http://localhost:3000/** adresine giderek Ã§Ä±ktÄ±yÄ± gÃ¶rebilirsin. ğŸ‰  

ğŸ“Œ **Ã‡Ä±ktÄ±:**  
```
Merhaba! Express.js sunucusu Ã§alÄ±ÅŸÄ±yor.
```

---

## **4. Express.js ile API GeliÅŸtirme**  
Express.js, **RESTful APIâ€™ler oluÅŸturmak iÃ§in mÃ¼kemmel bir Ã§Ã¶zÃ¼mdÃ¼r.** APIâ€™mizi oluÅŸtururken **GET, POST, PUT ve DELETE isteklerini** nasÄ±l kullanacaÄŸÄ±mÄ±zÄ± gÃ¶relim.

### **4.1 GET Ä°steÄŸi ile Veri Ã‡ekme**  
Bu Ã¶rnekte, bir Ã¼rÃ¼n listesini dÃ¶ndÃ¼ren bir **GET isteÄŸi** tanÄ±mlÄ±yoruz:

```javascript
const express = require('express');
const app = express();

const products = [
    { id: 1, name: "Laptop", price: 1500 },
    { id: 2, name: "Telefon", price: 900 }
];

// GET isteÄŸi ile Ã¼rÃ¼n listesini dÃ¶ndÃ¼r
app.get('/products', (req, res) => {
    res.json(products);
});

const PORT = 3000;
app.listen(PORT, () => console.log(`Sunucu ${PORT} portunda Ã§alÄ±ÅŸÄ±yor.`));
```

ğŸ“Œ **TarayÄ±cÄ±dan veya Postmanâ€™den GET isteÄŸi gÃ¶nder:**  
```bash
http://localhost:3000/products
```
ğŸ“Œ **Ã‡Ä±ktÄ±:**  
```json
[
    { "id": 1, "name": "Laptop", "price": 1500 },
    { "id": 2, "name": "Telefon", "price": 900 }
]
```

---

### **4.2 POST Ä°steÄŸi ile Yeni Veri Eklemek**
KullanÄ±cÄ±dan yeni bir Ã¼rÃ¼n eklemek iÃ§in **POST isteÄŸi** yapalÄ±m.

ğŸ“Œ **Express'in JSON formatÄ±nda veri alabilmesi iÃ§in `express.json()` middlewareâ€™ini eklemeliyiz:**
```javascript
app.use(express.json());
```

ğŸ“Œ **Yeni Ã¼rÃ¼n ekleme iÃ§in POST isteÄŸi tanÄ±mlayalÄ±m:**
```javascript
// Yeni Ã¼rÃ¼n eklemek iÃ§in POST isteÄŸi
app.post('/products', (req, res) => {
    const newProduct = req.body;  // KullanÄ±cÄ±nÄ±n gÃ¶nderdiÄŸi veri
    products.push(newProduct);    // ÃœrÃ¼nÃ¼ listeye ekle
    res.status(201).json({ message: "ÃœrÃ¼n eklendi", product: newProduct });
});
```

ğŸ“Œ **Postman veya fetch API ile POST isteÄŸi yap:**  
```json
{
    "id": 3,
    "name": "Tablet",
    "price": 1200
}
```
ğŸ“Œ **YanÄ±t:**  
```json
{
    "message": "ÃœrÃ¼n eklendi",
    "product": { "id": 3, "name": "Tablet", "price": 1200 }
}
```

---

### **4.3 PUT Ä°steÄŸi ile Veri GÃ¼ncelleme**  
Var olan bir Ã¼rÃ¼nÃ¼ gÃ¼ncellemek iÃ§in **PUT isteÄŸi** kullanabiliriz:

```javascript
app.put('/products/:id', (req, res) => {
    const productId = parseInt(req.params.id);
    const updatedProduct = req.body;

    const index = products.findIndex(p => p.id === productId);
    if (index === -1) {
        return res.status(404).json({ message: "ÃœrÃ¼n bulunamadÄ±." });
    }

    products[index] = { ...products[index], ...updatedProduct };
    res.json({ message: "ÃœrÃ¼n gÃ¼ncellendi", product: products[index] });
});
```

---

### **4.4 DELETE Ä°steÄŸi ile Veri Silme**  
Bir Ã¼rÃ¼nÃ¼ silmek iÃ§in **DELETE isteÄŸi** ekleyelim:

```javascript
app.delete('/products/:id', (req, res) => {
    const productId = parseInt(req.params.id);
    const index = products.findIndex(p => p.id === productId);

    if (index === -1) {
        return res.status(404).json({ message: "ÃœrÃ¼n bulunamadÄ±." });
    }

    products.splice(index, 1);
    res.json({ message: "ÃœrÃ¼n silindi." });
});
```

---

## **5. Express.js Middleware Nedir?**  
Middleware, **istek (request) ve yanÄ±t (response) arasÄ±ndaki iÅŸlemleri yÃ¶neten ara yazÄ±lÄ±mlardÄ±r**.  

Ã–rneÄŸin, **istekleri loglamak** veya **kimlik doÄŸrulamasÄ± yapmak** iÃ§in kullanÄ±labilir.

ğŸ“Œ **Ã–rnek Middleware KullanÄ±mÄ±:**  
```javascript
app.use((req, res, next) => {
    console.log(`${req.method} isteÄŸi alÄ±ndÄ±: ${req.url}`);
    next();
});
```
ğŸ“Œ **Ã‡alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda Konsol Ã‡Ä±ktÄ±sÄ±:**  
```
GET isteÄŸi alÄ±ndÄ±: /products
POST isteÄŸi alÄ±ndÄ±: /products
```

---

## **6. Ã–zet**
- **Express.js**, Node.js iÃ§in en popÃ¼ler web frameworkâ€™Ã¼dÃ¼r.
- **Kolay, hÄ±zlÄ± ve esnek** bir yapÄ± sunar.
- **GET, POST, PUT, DELETE** gibi HTTP metotlarÄ±nÄ± kolayca yÃ¶netir.
- **Middleware** desteÄŸi ile istekleri iÅŸleme ve yÃ¶nlendirme saÄŸlar.
- **REST APIâ€™ler geliÅŸtirmek iÃ§in idealdir.**

ğŸš€ **Sonraki Ders:** **Express.js ile Middleware KullanÄ±mÄ± ve GeliÅŸmiÅŸ API YÃ¶netimi!** ğŸ¯