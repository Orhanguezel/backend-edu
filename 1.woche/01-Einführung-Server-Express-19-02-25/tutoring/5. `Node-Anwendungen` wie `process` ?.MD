# **5. Node.js UygulamalarÄ± (`process` Nesnesi)**  

Node.js, **JavaScript'in tarayÄ±cÄ±dan baÄŸÄ±msÄ±z olarak Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlayan bir Ã§alÄ±ÅŸma zamanÄ± ortamÄ±dÄ±r**. Node.js ile **arka plan iÅŸlemleri**, **web sunucularÄ±**, **API'ler** ve daha birÃ§ok sistem geliÅŸtirilebilir.

Bu derste, **Node.js uygulamalarÄ±nda `process` nesnesinin nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±**, **hangi bilgileri iÃ§erdiÄŸini** ve **nasÄ±l kullanÄ±lacaÄŸÄ±nÄ±** detaylÄ±ca inceleyeceÄŸiz. ğŸš€  

---

## **1. `process` Nedir?**
`process`, **Node.js'in Ã§alÄ±ÅŸma ortamÄ± hakkÄ±nda bilgi saÄŸlayan** ve **iÅŸlem yÃ¶netimi** iÃ§in kullanÄ±lan **global bir nesnedir**.

ğŸ“Œ **Neden KullanÄ±lÄ±r?**  
âœ… Node.js uygulamasÄ±nÄ±n **Ã§alÄ±ÅŸma ortamÄ± hakkÄ±nda bilgi almak**  
âœ… **Komut satÄ±rÄ±ndan girilen argÃ¼manlarÄ±** okumak  
âœ… **Ã‡evresel deÄŸiÅŸkenlere** (API anahtarlarÄ±, veritabanÄ± baÄŸlantÄ±larÄ±) eriÅŸmek  
âœ… **Hata yÃ¶netimi ve uygulamayÄ± kapatma iÅŸlemlerini** yapmak  

`process` nesnesi **herhangi bir modÃ¼l eklemeye gerek olmadan** doÄŸrudan kullanÄ±labilir Ã§Ã¼nkÃ¼ **global bir nesnedir**.

ğŸ“Œ **Terminalden Ã§alÄ±ÅŸtÄ±rarak `process` nesnesini inceleyebiliriz:**  
```javascript
console.log(process);
```
Bu kod Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda **Node.js'in Ã§alÄ±ÅŸma ortamÄ± hakkÄ±nda birÃ§ok bilgi iÃ§eren bir nesne dÃ¶ndÃ¼rÃ¼lÃ¼r.** Åimdi, bu nesnenin en sÄ±k kullanÄ±lan Ã¶zelliklerini inceleyelim.

---

## **2. `process.argv` - Komut SatÄ±rÄ± ArgÃ¼manlarÄ±nÄ± Okuma**
Node.js uygulamalarÄ±, **komut satÄ±rÄ±ndan (CLI) girilen argÃ¼manlarÄ± okuyabilir**.  

ğŸ“Œ **Ã–rnek KullanÄ±m:**
```javascript
console.log(process.argv);
```
ğŸ“Œ **Terminalde Ã‡alÄ±ÅŸtÄ±rma:**  
```bash
node app.js merhaba dÃ¼nya
```
ğŸ“Œ **Ã‡Ä±ktÄ±:**
```
[
  '/usr/local/bin/node',  // Node.js'in yolu
  '/Users/kullanici/app.js',  // Ã‡alÄ±ÅŸtÄ±rÄ±lan dosyanÄ±n yolu
  'merhaba', 'dÃ¼nya'  // Komut satÄ±rÄ±ndan girilen argÃ¼manlar
]
```

ğŸ“Œ **Gereksiz Bilgileri Atarak KullanÄ±cÄ± ArgÃ¼manlarÄ±nÄ± Almak:**
```javascript
const args = process.argv.slice(2);
console.log(`Girilen argÃ¼manlar: ${args}`);
```
ğŸ“Œ **Ã‡alÄ±ÅŸtÄ±rma:**  
```bash
node app.js --name=Ahmet --age=25
```
ğŸ“Œ **Ã‡Ä±ktÄ±:**
```
Girilen argÃ¼manlar: --name=Ahmet --age=25
```
âœ… **KullanÄ±m Senaryosu:**  
- **Komut satÄ±rÄ±ndan alÄ±nan parametreler ile dinamik iÅŸlemler yapmak.**  
- **FarklÄ± Ã§alÄ±ÅŸma modlarÄ±nÄ± (development, production) belirlemek.**  

---

## **3. `process.env` - Ã‡evresel DeÄŸiÅŸkenleri Kullanma**
`process.env`, **Node.js uygulamalarÄ±nda Ã§evresel deÄŸiÅŸkenlere eriÅŸmek iÃ§in kullanÄ±lÄ±r**.  

ğŸ“Œ **Mevcut Ã‡evresel DeÄŸiÅŸkenleri GÃ¶rÃ¼ntÃ¼leme:**
```javascript
console.log(process.env);
```

ğŸ“Œ **Ã–rnek KullanÄ±m - `.env` DosyasÄ±ndan DeÄŸer Okuma:**
```javascript
console.log(`Veri tabanÄ± kullanÄ±cÄ± adÄ±: ${process.env.DB_USER}`);
```
ğŸ“Œ **Terminalde Ã‡alÄ±ÅŸtÄ±rma (Linux/MacOS iÃ§in):**
```bash
export DB_USER=admin
node app.js
```
ğŸ“Œ **Ã‡Ä±ktÄ±:**
```
Veri tabanÄ± kullanÄ±cÄ± adÄ±: admin
```
âœ… **Neden KullanÄ±lÄ±r?**  
- **API anahtarlarÄ± veya hassas bilgileri kod iÃ§inde saklamamak iÃ§in.**  
- **Ortam deÄŸiÅŸkenlerine gÃ¶re uygulama yapÄ±landÄ±rmasÄ±nÄ± deÄŸiÅŸtirmek iÃ§in.**  

ğŸ“Œ **Ã–rnek `.env` KullanÄ±mÄ± (dotenv paketi ile)**
1. **dotenv paketini yÃ¼kleyelim:**  
```bash
npm install dotenv
```
2. **`.env` dosyasÄ± oluÅŸturalÄ±m:**  
```
DB_USER=admin
DB_PASS=secret
```
3. **Node.js dosyasÄ±nda deÄŸiÅŸkenleri okuyalÄ±m:**  
```javascript
require('dotenv').config();
console.log(`DB KullanÄ±cÄ±: ${process.env.DB_USER}`);
```

---

## **4. `process.exit()` - Node.js UygulamasÄ±nÄ± SonlandÄ±rma**
Bazen belirli bir koÅŸulda uygulamayÄ± durdurmak isteyebiliriz. Bunun iÃ§in `process.exit()` fonksiyonu kullanÄ±lÄ±r.

ğŸ“Œ **Ã–rnek KullanÄ±m:**
```javascript
console.log("Uygulama Ã§alÄ±ÅŸÄ±yor...");

setTimeout(() => {
    console.log("Uygulama kapanÄ±yor...");
    process.exit(0); // 0: BaÅŸarÄ±yla Ã§Ä±kÄ±ÅŸ
}, 3000);
```
ğŸ“Œ **Ã‡alÄ±ÅŸtÄ±rÄ±nca Ã‡Ä±ktÄ±:**
```
Uygulama Ã§alÄ±ÅŸÄ±yor...
(Uygulama 3 saniye bekler)
Uygulama kapanÄ±yor...
```

**Ã‡Ä±kÄ±ÅŸ KodlarÄ±:**  
- `process.exit(0)`: **BaÅŸarÄ±yla Ã§Ä±kÄ±ÅŸ**  
- `process.exit(1)`: **Hata nedeniyle Ã§Ä±kÄ±ÅŸ**  

ğŸ“Œ **Hata YÃ¶netimi ile Ã‡Ä±kÄ±ÅŸ Ã–rneÄŸi:**
```javascript
if (!process.env.API_KEY) {
    console.error("Hata: API_KEY tanÄ±mlÄ± deÄŸil!");
    process.exit(1);
}
```

---

## **5. `process.on()` - OlaylarÄ± Dinleme**
Node.js uygulamasÄ± Ã§alÄ±ÅŸÄ±rken, belirli olaylarÄ± dinleyerek **Ã¶zel iÅŸlemler gerÃ§ekleÅŸtirebiliriz**.

ğŸ“Œ **Ã–rnek 1: `exit` OlayÄ±nÄ± Dinleme**
```javascript
process.on('exit', (code) => {
    console.log(`Uygulama Ã§Ä±kÄ±ÅŸ yaptÄ±. Ã‡Ä±kÄ±ÅŸ kodu: ${code}`);
});
```
ğŸ“Œ **Ã‡alÄ±ÅŸtÄ±rma Sonucu:**
```
Uygulama Ã§Ä±kÄ±ÅŸ yaptÄ±. Ã‡Ä±kÄ±ÅŸ kodu: 0
```

ğŸ“Œ **Ã–rnek 2: `uncaughtException` OlayÄ±nÄ± Dinleme**  
Kod iÃ§inde yakalanmayan hatalarÄ± dinlemek iÃ§in kullanÄ±lÄ±r.
```javascript
process.on('uncaughtException', (err) => {
    console.error("Beklenmedik bir hata oluÅŸtu:", err);
});
```
Bu kod, bilinmeyen bir hata olduÄŸunda Ã§alÄ±ÅŸarak uygulamanÄ±n Ã§Ã¶kmesini engelleyebilir.

---

## **6. `process.uptime()` - Ã‡alÄ±ÅŸma SÃ¼resi**
ğŸ“Œ **UygulamanÄ±n ne kadar sÃ¼redir Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± gÃ¶rmek iÃ§in kullanÄ±lÄ±r:**
```javascript
console.log(`Uygulama ${process.uptime()} saniyedir Ã§alÄ±ÅŸÄ±yor.`);
```
âœ… **KullanÄ±m AlanÄ±:**  
- **UygulamanÄ±n Ã§alÄ±ÅŸma sÃ¼resini takip etmek**  
- **Performans analizleri yapmak**  

---

## **7. Ã–zet**
| Ã–zellik  | AÃ§Ä±klama |
|-----------|------------|
| **`process.argv`** | Komut satÄ±rÄ±ndan girilen argÃ¼manlarÄ± okur. |
| **`process.env`** | Ã‡evresel deÄŸiÅŸkenleri yÃ¶netir. |
| **`process.exit()`** | UygulamayÄ± belirli bir durumda kapatÄ±r. |
| **`process.on()`** | Ã‡alÄ±ÅŸma zamanÄ± olaylarÄ±nÄ± dinler. |
| **`process.uptime()`** | UygulamanÄ±n ne kadar sÃ¼redir Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± gÃ¶sterir. |

ğŸ“Œ **Ã–ÄŸrendiklerimizi Kullanarak Ã–rnek Bir Node.js UygulamasÄ±**  
```javascript
require('dotenv').config();

console.log("Uygulama baÅŸladÄ±...");
console.log(`KullanÄ±cÄ±: ${process.env.DB_USER}`);

setTimeout(() => {
    console.log("Uygulama kapanÄ±yor...");
    process.exit(0);
}, 5000);
```

ğŸš€ **Sonraki Ders:** **Express.js Nedir ve Neden KullanÄ±lÄ±r?** ğŸ¯